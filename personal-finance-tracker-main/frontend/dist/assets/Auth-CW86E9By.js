import{r as i,b as f,j as s,e as b,V as c,u as h,f as x,d as y}from"./index--E_D60fk.js";const w=()=>{const[e,t]=i.useState({name:"",email:"",password:""}),[o,n]=i.useState(!1),g=f(),m=async a=>{var r,l;a.preventDefault(),n(!0);try{await b(e),c.success("Registered successfully!"),g("/auth")}catch(u){c.error(((l=(r=u.response)==null?void 0:r.data)==null?void 0:l.message)||"Registration failed")}finally{n(!1)}};return s.jsxs("form",{onSubmit:m,className:"max-w-sm mx-auto p-6 bg-white rounded shadow space-y-6",children:[s.jsx("input",{type:"text",placeholder:"Name",required:!0,value:e.name,onChange:a=>t({...e,name:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"email",placeholder:"Email",required:!0,value:e.email,onChange:a=>t({...e,email:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"password",placeholder:"Password",required:!0,value:e.password,onChange:a=>t({...e,password:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"submit",disabled:o,className:`w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded transition ${o?"opacity-50 cursor-not-allowed":""}`,children:o?"Registering...":"Register"})]})},v=()=>{const[e,t]=i.useState({email:"",password:""}),[o,n]=i.useState(!1),g=f(),{setUser:m}=h(),a=async r=>{var l,u,p;r.preventDefault(),n(!0);try{await x(e);const d=await y();m(d.data.data),c.success("Logged in successfully!"),g("/dashboard")}catch(d){console.log((l=d.response)==null?void 0:l.data),c.error(((p=(u=d.response)==null?void 0:u.data)==null?void 0:p.message)||"Login failed")}finally{n(!1)}};return s.jsxs("form",{onSubmit:a,className:"max-w-sm mx-auto p-6 bg-white rounded shadow space-y-6",children:[s.jsx("input",{type:"email",placeholder:"Email",required:!0,value:e.email,onChange:r=>t({...e,email:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"password",placeholder:"Password",required:!0,value:e.password,onChange:r=>t({...e,password:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"submit",disabled:o,className:`w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded transition ${o?"opacity-50 cursor-not-allowed":""}`,children:o?"Logging in...":"Login"})]})},N=()=>{const[e,t]=i.useState("login");return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8 space-y-6",children:[s.jsx("h2",{className:"text-3xl font-semibold text-center text-gray-800",children:e==="login"?"Login":"Register"}),e==="login"?s.jsx(v,{}):s.jsx(w,{}),s.jsxs("p",{className:"text-center text-gray-600",children:[e==="login"?"Don't have an account? ":"Already have an account? ",s.jsx("button",{onClick:()=>t(e==="login"?"register":"login"),className:"text-blue-600 hover:underline font-semibold focus:outline-none",children:e==="login"?"Register":"Login"})]})]})})};export{N as default};
